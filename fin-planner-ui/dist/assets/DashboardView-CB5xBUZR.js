import{_ as y,u as C,r as v,k as i,i as b,c as l,o as r,d as w,e as d,a as t,t as o,w as p,f as D,p as B,n as V,q as A,g as j}from"./index-CajTN6Mj.js";import{M as N}from"./MoneyBoxLoader-C_1gdrvW.js";import{f as P,a as M}from"./formatters-BT-Yo01K.js";const T={class:"dashboard animate-fade-in"},z={key:0,class:"page-loader-container"},F={key:1,class:"welcome-section"},I={class:"welcome-content"},S={class:"welcome-title"},U={class:"welcome-subtitle"},H={key:2,class:"stats-grid"},L={class:"stat-card card animate-fade-in-up stagger-1"},R={class:"stat-value"},W={class:"stat-card card animate-fade-in-up stagger-2"},q={class:"stat-value"},E={class:"stat-card card animate-fade-in-up stagger-3"},G={class:"stat-value"},O={class:"stat-card card animate-fade-in-up stagger-4"},Q={class:"stat-value"},Y={key:3,class:"actions-section"},J={class:"actions-grid"},K={__name:"DashboardView",setup(X){const h=C(),c=v([]),n=v(!0),g=i(()=>{const e=h.user?.email||"User";return e.includes("@")?e.split("@")[0].split(".").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "):e}),m=i(()=>P(new Date,"long")),f=i(()=>c.value.reduce((e,s)=>e+(s.totalValue||0),0)),k=i(()=>c.value.length),x=i(()=>c.value.reduce((e,s)=>e+(s.holdingCount||0),0)),_=v(0),u=v(2.34);return b(async()=>{n.value=!0;try{const e=await A.get("/portfolios");c.value=e.data}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{n.value=!1}}),(e,s)=>{const a=D("router-link");return r(),l("div",T,[n.value?(r(),l("div",z,[d(N,{size:"lg",text:"Loading Financial Overview..."})])):(r(),l("section",F,[t("div",I,[t("h1",S,"Welcome back, "+o(g.value),1),t("p",U,"Your portfolio overview for "+o(m.value),1)]),d(a,{to:"/portfolios",class:"btn btn-primary"},{default:p(()=>[...s[0]||(s[0]=[j(" View Portfolios ",-1)])]),_:1})])),n.value?w("",!0):(r(),l("section",H,[t("div",L,[s[1]||(s[1]=t("div",{class:"stat-header"},[t("span",{class:"stat-label"},"Total Net Worth")],-1)),t("div",R,o(B(M)(f.value)),1),t("div",{class:V(["stat-change",{"value-positive":u.value>=0,"value-negative":u.value<0}])},o(u.value>=0?"+":"")+o(u.value.toFixed(2))+"% this month ",3)]),t("div",W,[s[2]||(s[2]=t("div",{class:"stat-header"},[t("span",{class:"stat-label"},"Portfolios")],-1)),t("div",q,o(k.value),1),s[3]||(s[3]=t("div",{class:"stat-detail text-muted"},"Active strategies",-1))]),t("div",E,[s[4]||(s[4]=t("div",{class:"stat-header"},[t("span",{class:"stat-label"},"Assets Tracked")],-1)),t("div",G,o(x.value),1),s[5]||(s[5]=t("div",{class:"stat-detail text-muted"},"Across all accounts",-1))]),t("div",O,[s[6]||(s[6]=t("div",{class:"stat-header"},[t("span",{class:"stat-label"},"Pending Decisions")],-1)),t("div",Q,o(_.value),1),s[7]||(s[7]=t("div",{class:"stat-detail text-muted"},"Awaiting review",-1))])])),n.value?w("",!0):(r(),l("section",Y,[s[11]||(s[11]=t("h2",{class:"section-title"},"Quick Actions",-1)),t("div",J,[d(a,{to:"/import",class:"action-card card"},{default:p(()=>[...s[8]||(s[8]=[t("div",{class:"action-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t("polyline",{points:"17 8 12 3 7 8"}),t("line",{x1:"12",y1:"3",x2:"12",y2:"15"})])],-1),t("div",{class:"action-content"},[t("h3",null,"Import Data"),t("p",null,"Upload portfolio valuations")],-1),t("svg",{class:"action-arrow",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"9 18 15 12 9 6"})],-1)])]),_:1}),d(a,{to:"/decisions",class:"action-card card"},{default:p(()=>[...s[9]||(s[9]=[t("div",{class:"action-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"}),t("line",{x1:"9",y1:"15",x2:"15",y2:"15"})])],-1),t("div",{class:"action-content"},[t("h3",null,"Review Decisions"),t("p",null,"AI recommendations")],-1),t("svg",{class:"action-arrow",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"9 18 15 12 9 6"})],-1)])]),_:1}),d(a,{to:"/reports",class:"action-card card"},{default:p(()=>[...s[10]||(s[10]=[t("div",{class:"action-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),t("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),t("line",{x1:"6",y1:"20",x2:"6",y2:"14"})])],-1),t("div",{class:"action-content"},[t("h3",null,"Generate Reports"),t("p",null,"Tax summaries & performance")],-1),t("svg",{class:"action-arrow",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"9 18 15 12 9 6"})],-1)])]),_:1})])]))])}}},et=y(K,[["__scopeId","data-v-05d84041"]]);export{et as default};
