import{_ as V,k as f,r as c,i as D,c as s,o as l,a as t,e as N,g as S,F as p,q as w,b as F,w as $,T as B,s as T,d as k,t as d,m as y,x as g,z as M,A as L,B as h}from"./index-D_ssXn_P.js";import{u as j}from"./portfolio-BZJ33zps.js";const A={class:"portfolio-list animate-fade-in"},U={class:"page-header"},E={key:0,class:"portfolio-grid"},q={key:1,class:"empty-state card"},z={key:2,class:"portfolio-grid"},I=["onClick"],H={class:"card-header"},Y={key:0,class:"benchmark-badge"},G={class:"card-body"},J={class:"value-display"},K={class:"card-footer"},O={class:"portfolio-stats"},Q={class:"stat-value"},R={class:"modal card"},W={class:"modal-header"},X={class:"form-group"},Z={class:"form-group mt-lg"},tt={class:"switch-label"},ot={class:"modal-actions mt-xl"},et=["disabled"],st={__name:"PortfolioListView",setup(lt){const r=j(),m=f(()=>r.portfolios),v=f(()=>r.loading),a=c(!1),u=c(!1),i=c(""),b=n=>new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",minimumFractionDigits:0,maximumFractionDigits:0}).format(n||0),x=async()=>{await r.fetchPortfolios()},C=n=>{r.setCurrentPortfolio(n)},P=async()=>{if(i.value.trim())try{u.value?await h.post("/portfolios/demo",{name:i.value}):await h.post("/portfolios",{name:i.value}),a.value=!1,i.value="",u.value=!1,await r.fetchPortfolios()}catch(n){console.error("Failed to create portfolio:",n)}};return D(x),(n,o)=>(l(),s("div",A,[t("div",U,[o[8]||(o[8]=t("div",{class:"header-content"},[t("h1",null,"Portfolios"),t("p",{class:"text-muted"},"Manage your investment strategies")],-1)),t("button",{onClick:o[0]||(o[0]=e=>a.value=!0),class:"btn btn-primary"},[...o[7]||(o[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),S(" New Portfolio ",-1)])])]),v.value?(l(),s("div",E,[(l(),s(p,null,w(3,e=>t("div",{key:e,class:"skeleton-card card"},[...o[9]||(o[9]=[t("div",{class:"skeleton skeleton-title"},null,-1),t("div",{class:"skeleton skeleton-text"},null,-1),t("div",{class:"skeleton skeleton-value"},null,-1)])])),64))])):m.value.length===0?(l(),s("div",q,[o[10]||(o[10]=F('<div class="empty-icon" data-v-e9f8600c><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" data-v-e9f8600c><rect x="2" y="7" width="20" height="14" rx="2" ry="2" data-v-e9f8600c></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" data-v-e9f8600c></path></svg></div><h2 data-v-e9f8600c>Create Your First Portfolio</h2><p class="text-muted" data-v-e9f8600c>Start tracking your investments</p>',3)),t("button",{onClick:o[1]||(o[1]=e=>a.value=!0),class:"btn btn-primary mt-lg"}," Create Portfolio ")])):(l(),s("div",z,[(l(!0),s(p,null,w(m.value,(e,_)=>(l(),s("div",{key:e.id,class:"portfolio-card card animate-fade-in-up",style:T({animationDelay:`${_*.05}s`}),onClick:at=>{C(e.id),n.$router.push(`/portfolio/${e.id}`)}},[t("div",H,[t("h3",null,d(e.name),1),e.benchmarkSymbol?(l(),s("span",Y,d(e.benchmarkSymbol),1)):k("",!0)]),t("div",G,[o[11]||(o[11]=t("span",{class:"value-label"},"Total Value",-1)),t("div",J,d(b(e.totalValue)),1)]),t("div",K,[t("div",O,[t("span",Q,d(e.targetAllocation?.length||0),1),o[12]||(o[12]=t("span",{class:"stat-label"},"Categories",-1))]),o[13]||(o[13]=t("svg",{class:"card-arrow",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"9 18 15 12 9 6"})],-1))])],12,I))),128))])),N(B,{name:"modal"},{default:$(()=>[a.value?(l(),s("div",{key:0,class:"modal-backdrop",onClick:o[6]||(o[6]=y(e=>a.value=!1,["self"]))},[t("div",R,[t("div",W,[o[15]||(o[15]=t("h2",null,"Create New Portfolio",-1)),t("button",{class:"btn-close",onClick:o[2]||(o[2]=e=>a.value=!1)},[...o[14]||(o[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),o[19]||(o[19]=t("p",{class:"text-muted mb-lg"},"Enter a name for your new investment strategy.",-1)),t("form",{onSubmit:y(P,["prevent"])},[t("div",X,[o[16]||(o[16]=t("label",null,"Portfolio Name",-1)),g(t("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>i.value=e),required:"",placeholder:"e.g. Family Trust",autofocus:""},null,512),[[M,i.value]])]),t("div",Z,[t("label",tt,[g(t("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=e=>u.value=e)},null,512),[[L,u.value]]),o[17]||(o[17]=t("span",{class:"switch-slider"},null,-1)),o[18]||(o[18]=t("span",{class:"switch-text"},[t("strong",null,"Load Demo Dataset"),t("span",{class:"text-muted block text-xs"},"Pre-fill with comprehensive sample data (ETFs, Stocks, History).")],-1))])]),t("div",ot,[t("button",{type:"button",onClick:o[5]||(o[5]=e=>a.value=!1),class:"btn btn-secondary"},"Cancel"),t("button",{type:"submit",class:"btn btn-primary",disabled:!i.value.trim()||v.value},d(v.value?"Creating...":"Create Portfolio"),9,et)])],32)])])):k("",!0)]),_:1})]))}},rt=V(st,[["__scopeId","data-v-e9f8600c"]]);export{rt as default};
