import{K as i,B as l}from"./index-D2Wtd9Sa.js";const f=i("portfolio",{state:()=>({portfolios:[],currentPortfolioId:localStorage.getItem("currentPortfolioId")||null,loading:!1}),getters:{currentPortfolio:o=>!o.currentPortfolioId&&o.portfolios.length>0?o.portfolios[0]:o.portfolios.find(t=>t.id===o.currentPortfolioId)||o.portfolios[0]||null,currentPortfolioValue(){return this.currentPortfolio?.totalValue||0}},actions:{async fetchPortfolios(){this.loading=!0;try{const o=await l.get("/portfolios");this.portfolios=o.data,this.portfolios.length>0&&(this.portfolios.some(r=>r.id===this.currentPortfolioId)||this.setCurrentPortfolio(this.portfolios[0].id))}catch(o){console.error("Failed to fetch portfolios",o)}finally{this.loading=!1}},setCurrentPortfolio(o){this.currentPortfolioId=o,localStorage.setItem("currentPortfolioId",o)}}});export{f as u};
