import{_ as h,r as i,i as x,c as l,o as a,a as t,e as C,g as _,F as m,s as f,b as P,w as V,T as N,q as p,v as F,d as y,t as d,m as k,x as $,y as B}from"./index-CajTN6Mj.js";const S={class:"portfolio-list animate-fade-in"},D={class:"page-header"},T={key:0,class:"portfolio-grid"},M={key:1,class:"empty-state card"},j={key:2,class:"portfolio-grid"},A=["onClick"],L={class:"card-header"},U={key:0,class:"benchmark-badge"},q={class:"card-body"},E={class:"value-display"},I={class:"card-footer"},z={class:"portfolio-stats"},Y={class:"stat-value"},G={class:"modal card"},H={class:"modal-header"},J={class:"form-group"},K={class:"modal-actions"},O=["disabled"],Q={__name:"PortfolioListView",setup(R){const u=i([]),v=i(!0),n=i(!1),r=i(""),w=s=>new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s||0),c=async()=>{v.value=!0;try{const s=await p.get("/portfolios");u.value=s.data}catch(s){console.error("Failed to fetch portfolios:",s)}finally{v.value=!1}},g=async()=>{if(r.value.trim())try{await p.post("/portfolios",{name:r.value}),n.value=!1,r.value="",c()}catch(s){console.error("Failed to create portfolio:",s)}};return x(c),(s,e)=>(a(),l("div",S,[t("div",D,[e[7]||(e[7]=t("div",{class:"header-content"},[t("h1",null,"Portfolios"),t("p",{class:"text-muted"},"Manage your investment strategies")],-1)),t("button",{onClick:e[0]||(e[0]=o=>n.value=!0),class:"btn btn-primary"},[...e[6]||(e[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),_(" New Portfolio ",-1)])])]),v.value?(a(),l("div",T,[(a(),l(m,null,f(3,o=>t("div",{key:o,class:"skeleton-card card"},[...e[8]||(e[8]=[t("div",{class:"skeleton skeleton-title"},null,-1),t("div",{class:"skeleton skeleton-text"},null,-1),t("div",{class:"skeleton skeleton-value"},null,-1)])])),64))])):u.value.length===0?(a(),l("div",M,[e[9]||(e[9]=P('<div class="empty-icon" data-v-f4519b56><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" data-v-f4519b56><rect x="2" y="7" width="20" height="14" rx="2" ry="2" data-v-f4519b56></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" data-v-f4519b56></path></svg></div><h2 data-v-f4519b56>Create Your First Portfolio</h2><p class="text-muted" data-v-f4519b56>Start tracking your investments</p>',3)),t("button",{onClick:e[1]||(e[1]=o=>n.value=!0),class:"btn btn-primary mt-lg"}," Create Portfolio ")])):(a(),l("div",j,[(a(!0),l(m,null,f(u.value,(o,b)=>(a(),l("div",{key:o.id,class:"portfolio-card card animate-fade-in-up",style:F({animationDelay:`${b*.05}s`}),onClick:W=>s.$router.push(`/portfolio/${o.id}`)},[t("div",L,[t("h3",null,d(o.name),1),o.benchmarkSymbol?(a(),l("span",U,d(o.benchmarkSymbol),1)):y("",!0)]),t("div",q,[e[10]||(e[10]=t("span",{class:"value-label"},"Total Value",-1)),t("div",E,d(w(o.totalValue)),1)]),t("div",I,[t("div",z,[t("span",Y,d(o.targetAllocation?.length||0),1),e[11]||(e[11]=t("span",{class:"stat-label"},"Categories",-1))]),e[12]||(e[12]=t("svg",{class:"card-arrow",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"9 18 15 12 9 6"})],-1))])],12,A))),128))])),C(N,{name:"modal"},{default:V(()=>[n.value?(a(),l("div",{key:0,class:"modal-backdrop",onClick:e[5]||(e[5]=k(o=>n.value=!1,["self"]))},[t("div",G,[t("div",H,[e[14]||(e[14]=t("h2",null,"Create New Portfolio",-1)),t("button",{class:"btn-close",onClick:e[2]||(e[2]=o=>n.value=!1)},[...e[13]||(e[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),e[16]||(e[16]=t("p",{class:"text-muted mb-lg"},"Enter a name for your new investment strategy.",-1)),t("form",{onSubmit:k(g,["prevent"])},[t("div",J,[e[15]||(e[15]=t("label",null,"Portfolio Name",-1)),$(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>r.value=o),required:"",placeholder:"e.g. Family Trust",autofocus:""},null,512),[[B,r.value]])]),t("div",K,[t("button",{type:"button",onClick:e[4]||(e[4]=o=>n.value=!1),class:"btn btn-secondary"},"Cancel"),t("button",{type:"submit",class:"btn btn-primary",disabled:!r.value.trim()}," Create ",8,O)])],32)])])):y("",!0)]),_:1})]))}},Z=h(Q,[["__scopeId","data-v-f4519b56"]]);export{Z as default};
