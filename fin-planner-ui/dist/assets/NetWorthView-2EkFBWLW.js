import{_ as f,x as w,o as n,c as a,a as t,t as i,e as d,F as y,l as _,f as h,i as k,s as N,g as c,z as L,r as A}from"./index-oVbs5Hxd.js";import{usePortfolioStore as W}from"./portfolio-CjZnfIUI.js";const B={class:"net-worth-view space-y-6"},C={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},$={class:"card p-6 border-l-4 border-success"},S={class:"text-3xl font-bold mt-2"},V={class:"card p-6 border-l-4 border-danger"},j={class:"text-3xl font-bold mt-2"},M={class:"card p-6 bg-accent text-white border-none shadow-accent"},T={class:"text-3xl font-bold mt-2"},E={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},F={class:"card overflow-hidden"},I={class:"p-6 border-b border-border flex justify-between items-center"},P={class:"overflow-x-auto"},z={class:"w-full"},H={class:"divide-y divide-border"},O={class:"px-6 py-4 font-medium"},D={class:"px-6 py-4"},R={class:"badge badge-outline"},Y={class:"px-6 py-4 text-right text-muted"},q={class:"px-6 py-4 text-right font-bold"},G={key:0},J={class:"card p-6"},K={class:"h-64"},Q={__name:"NetWorthView",setup(U){const p=W(),o=c({totalAssets:0,totalLiabilities:0,netWorth:0}),u=c([]),m=c(!1),l=s=>s==null?"0":s.toLocaleString(),v=async()=>{if(p.currentPortfolio)try{const s=await N.get("/NetWorth",{params:{portfolioId:p.currentPortfolio.id}});o.value=s.data}catch(s){console.error("Failed to fetch net worth",s)}},x=L(()=>[o.value.totalAssets,o.value.totalLiabilities]),g={labels:["Assets","Liabilities"],colors:["#10b981","#ef4444"],stroke:{show:!1},legend:{position:"bottom",labels:{colors:"var(--color-text-primary)"}},plotOptions:{pie:{donut:{size:"70%",labels:{show:!0,total:{show:!0,label:"Net Worth",formatter:()=>"$"+l(o.value.netWorth/1e3)+"k"}}}}},chart:{background:"transparent"}};return w(()=>{v()}),(s,e)=>{const b=A("apexchart");return n(),a("div",B,[t("div",C,[t("div",$,[e[1]||(e[1]=t("span",{class:"text-xs text-muted uppercase font-bold tracking-wider"},"Total Assets",-1)),t("div",S,"$"+i(l(o.value.totalAssets)),1),e[2]||(e[2]=t("div",{class:"text-xs text-success mt-1 flex items-center gap-1"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),t("polyline",{points:"17 6 23 6 23 12"})]),d(" Everything you own ")],-1))]),t("div",V,[e[3]||(e[3]=t("span",{class:"text-xs text-muted uppercase font-bold tracking-wider"},"Total Liabilities",-1)),t("div",j,"$"+i(l(o.value.totalLiabilities)),1),e[4]||(e[4]=t("div",{class:"text-xs text-danger mt-1 flex items-center gap-1"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"23 18 13.5 8.5 8.5 13.5 1 6"}),t("polyline",{points:"17 18 23 18 23 12"})]),d(" Everything you owe ")],-1))]),t("div",M,[e[5]||(e[5]=t("span",{class:"text-xs opacity-80 uppercase font-bold tracking-wider"},"Net Worth",-1)),t("div",T,"$"+i(l(o.value.netWorth)),1),e[6]||(e[6]=t("div",{class:"text-xs opacity-80 mt-1"},"Your real wealth",-1))])]),t("div",E,[t("div",F,[t("div",I,[e[7]||(e[7]=t("h3",{class:"font-bold flex items-center gap-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]),d(" Liabilities & Loans ")],-1)),t("button",{onClick:e[0]||(e[0]=r=>m.value=!0),class:"btn btn-primary btn-sm"},"Add New")]),t("div",P,[t("table",z,[e[9]||(e[9]=t("thead",{class:"bg-muted text-xs uppercase text-muted"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left"},"Name"),t("th",{class:"px-6 py-3 text-left"},"Type"),t("th",{class:"px-6 py-3 text-right"},"Interest"),t("th",{class:"px-6 py-3 text-right"},"Balance")])],-1)),t("tbody",H,[(n(!0),a(y,null,_(u.value,r=>(n(),a("tr",{key:r.id,class:"hover:bg-elevated transition-colors"},[t("td",O,i(r.name),1),t("td",D,[t("span",R,i(r.type),1)]),t("td",Y,i(r.interestRate)+"%",1),t("td",q,"$"+i(l(r.principalAmount)),1)]))),128)),u.value.length?h("",!0):(n(),a("tr",G,[...e[8]||(e[8]=[t("td",{colspan:"4",class:"px-6 py-12 text-center text-muted italic"}," No liabilities tracked. Add one to see your net worth impact. ",-1)])]))])])])]),t("div",J,[e[10]||(e[10]=t("h3",{class:"font-bold mb-6"},"Asset vs Liability Mix",-1)),t("div",K,[x.value.length?(n(),k(b,{key:0,type:"donut",height:"100%",options:g,series:x.value},null,8,["series"])):h("",!0)])])])])}}},tt=f(Q,[["__scopeId","data-v-9ea2ecf2"]]);export{tt as default};
